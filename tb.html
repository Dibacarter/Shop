<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

<style>
html, body {
    margin: 0;
    padding: 0;
    height: 100%;
}

.image-container {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    overflow-y: auto;
    scroll-snap-type: y mandatory;
    position: relative;
    z-index: 999;
}

.image {
    scroll-snap-align: start;
    flex: 0 0 auto;
    width: 100%;
    object-fit: contain;
    cursor: pointer;
}

.video-container {
    position: relative;
    width: 100%;
}

.video-container video {
    width: 100%;
    height: auto;
}

.mute-btn, .unmute-btn {
    position: absolute;
    right: 10px;
    bottom: 10px;
    cursor: pointer;
    z-index: 10;
    width: 30px;
    height: 30px;
}

#overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: black;
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    overflow-y: auto;
    padding: 0;
}

body.no-scroll {
    overflow: hidden;
}

#overlay-content {
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
}

#overlay-content video {
    width: 100%;
    height: auto;
}

#close-btn {
    position: absolute;
    top: 10px;
    right: 10px;
    cursor: pointer;
    width: 30px;
    height: auto;
}

.main-nav {
    display: none;
}

.nav-btn {
    position: absolute;
    transform: translateY(-50%);
    cursor: pointer;
    z-index: 10000;
    padding: 5px 16px;
}

#prev-btn {
    left: 65px;
    border: 3px solid #275c86;
    top: 50px;
}

#next-btn {
    right: 65px;
    top: 50px;
}

.nav-btn img {
    display: block;
    max-width: 100%;
    height: auto;
    width: 17px;
}

video::-internal-media-controls {
      display: none !important;
    }

    video::-webkit-media-controls {
      display: none !important;
    }

    video::-moz-media-controls {
      display: none !important;
    }
</style>

  <script>
    const video = document.getElementById('vi');

    // Ensure controls attribute is not present
    video.removeAttribute('controls');

    // Continuously check and remove controls attribute if someone tries to add it
    setInterval(() => {
      if (video.hasAttribute('controls')) {
        video.removeAttribute('controls');
      }
    }, 1000);
  </script>

<div class="image-container">
    <img class="image" src="https://khaliiil.com/Y6.GIF" alt="Animated GIF" oncontextmenu="return false;">

    <a href="https://khaliiil.com/BeenMajestic"><img class="image" src="https://khaliiil.com/BRO.GIF" alt="ALWAYS_BEEN_ROYAL"></a>

    <img class="image" src="IMG_7634.jpg">
    <img class="image" src="IMG_7632.jpg">
    <img class="image" src="St.GIF" alt="Animated GIF">
    <img class="image" src="Su.GIF" alt="Animated GIF">
    <img class="image" src="Cl.GIF" alt="Animated GIF">
    <img class="image" src="T-1.JPG">
    <img class="image" src="IMG_7607.jpg">
    <img class="image" src="IMG_7608.png">
    <img class="image" src="Bu.GIF" alt="Animated GIF">

    <div class="video-container">
        <video id="vi" class="image" autoplay muted preload="auto">
            <source src="REn2.mov" type="video/mp4">
        </video>
        <img src="mute-icon.png" class="mute-btn" style="display: none;">
        <img src="unmute-icon.png" class="unmute-btn">
    </div>

    <img class="image" src="P.jpeg">
    <img class="image" src="IMG_7474.jpg">
</div>

<div id="overlay">
    <span id="prev-btn" class="nav-btn">
        <img src="prev.PNG" alt="Previous">
    </span>
    <div id="overlay-content"></div>
    <span id="next-btn" class="nav-btn">
        <img src="next.PNG" alt="Next">
    </span>
    <img id="close-btn" src="Xbtn.PNG" alt="Close">
</div>

<div class="image-container">
    <img class="image" src="https://khaliiil.com/Y6.GIF" alt="Animated GIF" oncontextmenu="return false;">

    <a href="https://khaliiil.com/BeenMajestic"><img class="image" src="https://khaliiil.com/BRO.GIF" alt="ALWAYS_BEEN_ROYAL"></a>

    <img class="image" src="IMG_7634.jpg">
    <img class="image" src="IMG_7632.jpg">
    <img class="image" src="St.GIF" alt="Animated GIF">
    <img class="image" src="Su.GIF" alt="Animated GIF">
    <img class="image" src="Cl.GIF" alt="Animated GIF">
    <img class="image" src="T-1.JPG">
    <img class="image" src="IMG_7607.jpg">
    <img class="image" src="IMG_7608.png">
    <img class="image" src="Bu.GIF" alt="Animated GIF">

    <div class="video-container">
        <video class="image" autoplay muted loop height="390">
            <source src="https://media.khaliiil.com/copy_B4660E0E-C0A0-47BC-AA79-0EC176811B67.mov" type="video/mp4">
        </video>
        <img src="mute-icon.png" class="mute-btn" style="display: none;">
        <img src="unmute-icon.png" class="unmute-btn">
    </div>

    <img class="image" src="P.jpeg">
    <img class="image" src="IMG_7474.jpg">
</div>

<div id="overlay">
    <span id="prev-btn" class="nav-btn">
        <img src="prev.PNG" alt="Previous">
    </span>
    <div id="overlay-content"></div>
    <span id="next-btn" class="nav-btn">
        <img src="next.PNG" alt="Next">
    </span>
    <img id="close-btn" src="Xbtn.PNG" alt="Close">
</div>

</head>
<body>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const mediaElements = document.querySelectorAll('.image, .video-container video');
    const overlay = document.getElementById('overlay');
    const overlayContent = document.getElementById('overlay-content');
    const closeBtn = document.getElementById('close-btn');
    const prevBtn = document.getElementById('prev-btn');
    const nextBtn = document.getElementById('next-btn');

    let currentIndex = 0;
    let currentlyUnmutedVideo = null;

    function disableScroll() {
        document.body.classList.add('no-scroll');
    }

    function enableScroll() {
        document.body.classList.remove('no-scroll');
    }

function openOverlay(index) {
    disableScroll();
    currentIndex = index;
    const clonedMedia = mediaElements[currentIndex].cloneNode(true);

    if (clonedMedia.tagName === 'VIDEO') {
        clonedMedia.currentTime = 0; // Reset the video to the beginning
        clonedMedia.muted = true; // Mute the cloned video initially
        clonedMedia.controls = false;

        const videoContainer = document.createElement('div');
        videoContainer.classList.add('video-container');
        videoContainer.appendChild(clonedMedia);

        const muteBtn = document.createElement('img');
        muteBtn.src = 'mute-icon.png';
        muteBtn.classList.add('mute-btn');
        muteBtn.style.display = 'none'; // Initially hide the mute button

        const unmuteBtn = document.createElement('img');
        unmuteBtn.src = 'unmute-icon.png';
        unmuteBtn.classList.add('unmute-btn');

        videoContainer.appendChild(muteBtn);
        videoContainer.appendChild(unmuteBtn);

        muteBtn.addEventListener('click', () => {
            clonedMedia.muted = true;
            muteBtn.style.display = 'none';
            unmuteBtn.style.display = 'block';
        });

        unmuteBtn.addEventListener('click', () => {
            clonedMedia.muted = false;
            currentlyUnmutedVideo = clonedMedia;
            muteBtn.style.display = 'block';
            unmuteBtn.style.display = 'none';
        });

        overlayContent.innerHTML = '';
        overlayContent.appendChild(videoContainer);

        // Start playback and loop the video
        clonedMedia.play();
        clonedMedia.loop = true;
    } else {
        overlayContent.innerHTML = '';
        overlayContent.appendChild(clonedMedia);
    }

    overlay.style.display = 'flex';
}

function closeOverlay() {
    overlay.style.display = 'none';
    enableScroll();

    // Mute all videos on the page
    document.querySelectorAll('video').forEach(video => {
        video.muted = true;
    });

    // Reset currently unmuted video
    if (currentlyUnmutedVideo) {
        currentlyUnmutedVideo.muted = true;
        currentlyUnmutedVideo = null;
    }
}

    mediaElements.forEach((media, index) => {
        media.addEventListener('click', () => {
            disableScroll();
            openOverlay(index);
        });
    });

    closeBtn.addEventListener('click', closeOverlay);

    prevBtn.addEventListener('click', () => {
        if (currentIndex === 0) {
            return;
        }
        currentIndex = (currentIndex - 1 + mediaElements.length) % mediaElements.length;
        closeOverlay(); // Close the current overlay before opening the next one
        openOverlay(currentIndex);
    });

    nextBtn.addEventListener('click', () => {
        currentIndex = (currentIndex + 1) % mediaElements.length;
        closeOverlay(); // Close the current overlay before opening the next one
        openOverlay(currentIndex);
    });

    overlay.addEventListener('transitionend', () => {
        if (overlay.style.display === 'flex') {
            disableScroll();
        }
    });

    document.querySelectorAll('.mute-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const video = this.parentElement.querySelector('video');
            video.muted = true;
            this.style.display = 'none';
            this.nextElementSibling.style.display = 'block';
        });
    });

    document.querySelectorAll('.unmute-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            if (currentlyUnmutedVideo) {
                currentlyUnmutedVideo.muted = true;
                const previousMuteBtn = currentlyUnmutedVideo.parentElement.querySelector('.mute-btn');
                const previousUnmuteBtn = currentlyUnmutedVideo.parentElement.querySelector('.unmute-btn');
                previousMuteBtn.style.display = 'none';
                previousUnmuteBtn.style.display = 'block';
            }
            const video = this.parentElement.querySelector('video');
            video.muted = false;
            currentlyUnmutedVideo = video;
            this.style.display = 'none';
            this.previousElementSibling.style.display = 'block';
        });
    });

    // Autoplay and mute all videos on page load
    document.querySelectorAll('video').forEach(video => {
        video.autoplay = true;
        video.muted = true;
        video.load(); // Reload the video to apply the autoplay and muted attributes
    });
});
</script>

</body>
</html>